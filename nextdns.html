<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NextDNS Server Installation - LearnLinuxOnline</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Improved Light Color Scheme and Typography */
    :root {
      --primary: #2563eb;
      --primary-light: #3b82f6;
      --secondary: #059669;
      --light: #ffffff;
      --light-gray: #f8fafc;
      --medium-gray: #e2e8f0;
      --dark-gray: #64748b;
      --text: #334155;
      --text-dark: #1e293b;
      --border: #cbd5e1;
      --accent: #f59e0b;
      --success: #10b981;
      --danger: #ef4444;
      --nextdns: #3a86ff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: var(--text);
      background: var(--light-gray);
    }
    
    /* Header Styles */
    header {
      background: var(--light);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary);
    }
    
    nav {
      display: flex;
      gap: 1.5rem;
    }
    
    nav a {
      color: var(--text);
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem 0;
      position: relative;
      transition: color 0.3s;
    }
    
    nav a:hover {
      color: var(--primary);
    }
    
    nav a.active {
      color: var(--primary);
    }
    
    nav a.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--primary);
      border-radius: 3px;
    }
    
    /* Breadcrumb */
    .breadcrumb {
      max-width: 1200px;
      margin: 1rem auto 0;
      padding: 0 1.5rem;
      font-size: 0.9rem;
      color: var(--dark-gray);
    }
    
    .breadcrumb a {
      color: var(--primary);
      text-decoration: none;
    }
    
    .breadcrumb a:hover {
      text-decoration: underline;
    }
    
    /* Main Content Layout */
    .project-content {
      max-width: 1200px;
      margin: 1rem auto 2rem;
      padding: 0 1.5rem;
      display: grid;
      grid-template-columns: 1fr 3fr;
      gap: 2rem;
    }
    
    /* Sidebar Navigation */
    .project-nav {
      background: var(--light);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      height: fit-content;
      position: sticky;
      top: 90px;
    }
    
    .project-nav h3 {
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 1.2rem;
      padding-bottom: 0.8rem;
      border-bottom: 2px solid var(--medium-gray);
      font-size: 1.3rem;
    }
    
    .project-nav ul {
      list-style: none;
    }
    
    .project-nav li {
      margin: 0.8rem 0;
    }
    
    .project-nav a {
      color: var(--text);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.7rem;
      padding: 0.7rem;
      border-radius: 8px;
      transition: all 0.3s;
      font-weight: 500;
    }
    
    .project-nav a:hover {
      background: var(--primary-light);
      color: white;
    }
    
    .project-nav a.active {
      background: var(--nextdns);
      color: white;
    }
    
    /* Main Content Area */
    .project-details {
      background: var(--light);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }
    
    .project-details h2 {
      color: var(--nextdns);
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
    }
    
    .project-details p {
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }
    
    /* Section Styles */
    .prerequisites {
      background: var(--light-gray);
      padding: 1.5rem;
      border-radius: 10px;
      margin-bottom: 2rem;
      border-left: 4px solid var(--accent);
    }
    
    .prerequisites h3 {
      color: var(--primary);
      margin-top: 0;
      margin-bottom: 1rem;
      font-size: 1.3rem;
    }
    
    .prerequisites ul {
      padding-left: 1.5rem;
      margin-bottom: 0;
    }
    
    .prerequisites li {
      margin-bottom: 0.5rem;
    }
    
    .step-section {
      margin-bottom: 2.5rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--medium-gray);
    }
    
    .step-section h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .step-section h3 .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: var(--nextdns);
      color: white;
      border-radius: 50%;
      font-size: 0.9rem;
      margin-right: 0.5rem;
    }
    
    /* Code Blocks */
    pre {
      background: var(--light-gray);
      padding: 1.2rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1.2rem 0;
      border: 1px solid var(--medium-gray);
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    
    code {
      color: var(--secondary);
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.95rem;
    }
    
    /* Note Box */
    .note {
      background: #fffbeb;
      padding: 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      border-left: 4px solid var(--accent);
    }
    
    .note strong {
      color: var(--accent);
    }
    
    /* Warning Box */
    .warning {
      background: #fef2f2;
      padding: 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      border-left: 4px solid var(--danger);
    }
    
    .warning strong {
      color: var(--danger);
    }
    
    /* Success Box */
    .success {
      background: #f0fdf4;
      padding: 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      border-left: 4px solid var(--success);
    }
    
    .success strong {
      color: var(--success);
    }
    
    /* Info Box */
    .info {
      background: #eff6ff;
      padding: 1.2rem;
      border-radius: 8px;
      margin: 1.2rem 0;
      border-left: 4px solid var(--nextdns);
    }
    
    .info strong {
      color: var(--nextdns);
    }
    
    /* Footer */
    footer {
      background: var(--light);
      text-align: center;
      padding: 1.5rem;
      margin-top: 3rem;
      border-top: 1px solid var(--medium-gray);
      color: var(--dark-gray);
    }
    
    /* Responsive Design */
    @media (max-width: 900px) {
      .project-content {
        grid-template-columns: 1fr;
      }
      
      .project-nav {
        position: static;
        margin-bottom: 1.5rem;
      }
      
      header {
        flex-direction: column;
        text-align: center;
        padding: 1rem;
      }
      
      nav {
        margin-top: 1rem;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
      }
    }
    
    @media (max-width: 600px) {
      .project-content {
        padding: 0 1rem;
      }
      
      .project-details, .project-nav {
        padding: 1.2rem;
      }
      
      .project-details h2 {
        font-size: 1.5rem;
      }
    }
    
    /* Additional Styling */
    .command {
      position: relative;
    }
    
    .command-copy {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: var(--nextdns);
      color: white;
      border: none;
      padding: 0.3rem 0.7rem;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      transition: background 0.3s;
    }
    
    .command-copy:hover {
      background: #2563eb;
    }
    
    .success-message {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: var(--success);
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      display: none;
      z-index: 1000;
    }
    
    /* Tutorial navigation */
    .tutorial-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid var(--medium-gray);
    }
    
    .tutorial-nav a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .tutorial-nav a:hover {
      text-decoration: underline;
    }
    
    /* Tabs for Ubuntu/RHEL */
    .tabs {
      display: flex;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid var(--medium-gray);
    }
    
    .tab {
      padding: 0.8rem 1.5rem;
      cursor: pointer;
      font-weight: 500;
      border-bottom: 3px solid transparent;
      transition: all 0.3s;
    }
    
    .tab.active {
      color: var(--nextdns);
      border-bottom: 3px solid var(--nextdns);
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    /* Table Styles */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    
    th, td {
      padding: 0.75rem;
      text-align: left;
      border-bottom: 1px solid var(--medium-gray);
    }
    
    th {
      background-color: var(--light-gray);
      font-weight: 600;
    }
    
    tr:hover {
      background-color: var(--light-gray);
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">LearnLinuxOnline</div>
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="courses.html">Courses</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <div class="breadcrumb">
    <a href="index.html">Home</a> &raquo; <a href="network-services.html">Network Services</a> &raquo; NextDNS Server
  </div>

  <div class="project-content">
    <aside class="project-nav">
      <h3>Server Projects</h3>
      <ul>
        <li><a href="dns-server.html"><i class="fas fa-network-wired"></i> DNS Server on Ubuntu</a></li>
        <li><a href="web-server.html"><i class="fas fa-server"></i> Web Server</a></li>
        <li><a href="phpmyadmin-setup.html"><i class="fas fa-database"></i> phpMyAdmin Setup</a></li>
        <li><a href="zimbra-mail-server.html"><i class="fas fa-envelope"></i> Zimbra Mail Server</a></li>
        <li><a href="pihole-server.html"><i class="fas fa-shield-alt"></i> Pi-hole Server</a></li>
        <li><a href="nextdns-server.html" class="active"><i class="fas fa-lock"></i> NextDNS Server</a></li>
        <li><a href="cacti-monitoring.html"><i class="fas fa-chart-line"></i> Cacti Monitoring</a></li>
        <li><a href="lancache-server.html"><i class="fas fa-database"></i> Lancache Server</a></li>
        <li><a href="issabel-pbx.html"><i class="fas fa-phone-alt"></i> Issabel PBX</a></li>
        <li><a href="virtualmin-roundcube.html"><i class="fas fa-envelope"></i> Virtualmin + Roundcube</a></li>
        <li><a href="wireguard-vpn.html"><i class="fas fa-shield-alt"></i> WireGuard VPN</a></li>
        <li><a href="proxmox-ve.html"><i class="fas fa-cloud"></i> Proxmox VE</a></li>
      </ul>
    </aside>

    <main class="project-details">
      <h2><i class="fas fa-lock"></i> NextDNS Server Installation & Management</h2>
      <p>NextDNS is a cloud-based private DNS service that offers advanced security, privacy, and parental controls. This guide will show you how to set up and manage NextDNS on your own server for maximum control and privacy.</p>
      
      <div class="prerequisites">
        <h3><i class="fas fa-clipboard-list"></i> Prerequisites</h3>
        <ul>
          <li>Ubuntu 20.04/22.04 LTS or RHEL 8/Rocky Linux 8/AlmaLinux 8</li>
          <li>Minimum 1GB RAM (2GB recommended)</li>
          <li>At least 2GB of free disk space</li>
          <li>Static IP address configured</li>
          <li>NextDNS account (free or paid)</li>
          <li>Root or sudo privileges</li>
          <li>Basic knowledge of networking and DNS</li>
        </ul>
      </div>
      
      <div class="info">
        <strong><i class="fas fa-info-circle"></i> Note:</strong> NextDNS is primarily a cloud service, but this guide shows you how to set up a local DNS resolver that connects to NextDNS, giving you more control over caching and local network management.
      </div>
      
      <div class="tabs">
        <div class="tab active" data-tab="ubuntu">Ubuntu</div>
        <div class="tab" data-tab="rhel">RHEL/CentOS/Rocky</div>
      </div>
      
      <div class="tab-content active" id="ubuntu-content">
        <div class="step-section">
          <h3><span class="step-number">1</span> System Preparation (Ubuntu)</h3>
          <p>Update your system and install required dependencies:</p>
          <div class="command">
            <pre><code>sudo apt update && sudo apt upgrade -y
sudo apt install curl wget dnsutils net-tools -y</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <p>Set a static IP address (if not already configured):</p>
          <div class="command">
            <pre><code># Edit network configuration
sudo nano /etc/netplan/01-netcfg.yaml

# Example configuration:
network:
  version: 2
  ethernets:
    eth0:
      dhcp4: no
      addresses: [192.168.1.10/24]
      gateway4: 192.168.1.1
      nameservers:
        addresses: [127.0.0.1]</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <p>Apply the network configuration:</p>
          <div class="command">
            <pre><code>sudo netplan apply</code></pre>
            <button class="command-copy">Copy</button>
          </div>
        </div>
        
        <div class="step-section">
          <h3><span class="step-number">2</span> Install NextDNS CLI (Ubuntu)</h3>
          <p>Install the NextDNS CLI using the official repository:</p>
          <div class="command">
            <pre><code># Add NextDNS repository
curl -s https://nextdns.io/install | sh</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <div class="warning">
            <strong>Warning:</strong> Always review scripts before executing them. You can examine the script first with: <code>curl -s https://nextdns.io/install</code>
          </div>
          <p>Alternatively, install manually:</p>
          <div class="command">
            <pre><code># For Ubuntu 20.04+
wget https://github.com/nextdns/nextdns/releases/download/v1.41.0/nextdns_1.41.0_amd64.deb
sudo dpkg -i nextdns_1.41.0_amd64.deb</code></pre>
            <button class="command-copy">Copy</button>
          </div>
        </div>
      </div>
      
      <div class="tab-content" id="rhel-content">
        <div class="step-section">
          <h3><span class="step-number">1</span> System Preparation (RHEL/Rocky/AlmaLinux)</h3>
          <p>Update your system and install required dependencies:</p>
          <div class="command">
            <pre><code>sudo dnf update -y
sudo dnf install curl wget bind-utils net-tools -y</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <p>Set a static IP address (if not already configured):</p>
          <div class="command">
            <pre><code># Edit network configuration
sudo nmcli connection modify "Wired connection 1" ipv4.method manual ipv4.addresses "192.168.1.10/24" ipv4.gateway "192.168.1.1" ipv4.dns "127.0.0.1"
sudo nmcli connection up "Wired connection 1"</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <p>Configure firewalld to allow DNS traffic:</p>
          <div class="command">
            <pre><code>sudo firewall-cmd --permanent --add-service=dns
sudo firewall-cmd --reload</code></pre>
            <button class="command-copy">Copy</button>
          </div>
        </div>
        
        <div class="step-section">
          <h3><span class="step-number">2</span> Install NextDNS CLI (RHEL/Rocky/AlmaLinux)</h3>
          <p>Install the NextDNS CLI using the official repository:</p>
          <div class="command">
            <pre><code># Add NextDNS repository
curl -s https://nextdns.io/install | sh</code></pre>
            <button class="command-copy">Copy</button>
          </div>
          <div class="warning">
            <strong>Warning:</strong> Always review scripts before executing them. You can examine the script first with: <code>curl -s https://nextdns.io/install</code>
          </div>
          <p>Alternatively, install manually:</p>
          <div class="command">
            <pre><code># For RHEL-based systems
wget https://github.com/nextdns/nextdns/releases/download/v1.41.0/nextdns_1.41.0_linux_amd64.rpm
sudo rpm -i nextdns_1.41.0_linux_amd64.rpm</code></pre>
            <button class="command-copy">Copy</button>
          </div>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">3</span> Configure NextDNS</h3>
        <p>Configure NextDNS with your configuration ID (get this from your NextDNS account):</p>
        <div class="command">
          <pre><code>sudo nextdns install --config [YOUR_CONFIG_ID]</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Start and enable the NextDNS service:</p>
        <div class="command">
          <pre><code>sudo systemctl enable nextdns
sudo systemctl start nextdns</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Check the service status:</p>
        <div class="command">
          <pre><code>sudo systemctl status nextdns</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Test the DNS resolution:</p>
        <div class="command">
          <pre><code>dig @127.0.0.1 example.com</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">4</span> Advanced Configuration</h3>
        <p>Edit the NextDNS configuration file for advanced settings:</p>
        <div class="command">
          <pre><code>sudo nano /etc/nextdns.conf</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Example advanced configuration:</p>
        <div class="command">
          <pre><code># Basic configuration
config [YOUR_CONFIG_ID]
report-client-info true
auto-activate true
listen :53
log-queries false

# Security settings
bogus-priv true
use-hosts true
cache-size 10MB
cache-max-ttl 3600

# Control which devices use NextDNS
allowed-networks 192.168.1.0/24
disallowed-networks 0.0.0.0/0

# Hardened privacy settings
hardened-privacy false

# DNS settings
timeout 5s
max-ttl 3600s</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Restart NextDNS to apply changes:</p>
        <div class="command">
          <pre><code>sudo systemctl restart nextdns</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">5</span> Securing NextDNS</h3>
        <p>Configure your firewall to only allow DNS queries from your local network:</p>
        <div class="command">
          <pre><code># For Ubuntu (UFW)
sudo ufw allow from 192.168.1.0/24 to any port 53
sudo ufw deny 53

# For RHEL (firewalld)
sudo firewall-cmd --permanent --add-rich-rule='rule family="ipv4" source address="192.168.1.0/24" port protocol="udp" port="53" accept'
sudo firewall-cmd --permanent --remove-service=dns
sudo firewall-cmd --reload</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Enable DNS-over-HTTPS (DoH) for upstream queries:</p>
        <div class="command">
          <pre><code># Edit NextDNS config
sudo nano /etc/nextdns.conf

# Add these lines:
bootstrap-dns ""
dns-over-https "https://dns.nextdns.io"</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        <p>Set up fail2ban to protect against DNS amplification attacks:</p>
        <div class="command">
          <pre><code># Install fail2ban
sudo apt install fail2ban -y  # Ubuntu
sudo dnf install fail2ban -y  # RHEL/Rocky

# Create a custom jail for DNS
sudo nano /etc/fail2ban/jail.d/dns.conf

[dns-udp]
enabled = true
port = 53
protocol = udp
filter = dns-udp
logpath = /var/log/nextdns.log
maxretry = 5
findtime = 600
bantime = 3600</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">6</span> Device Management</h3>
        
        <h4>a) Adding Devices to Your Network</h4>
        <p>Configure your router to use your NextDNS server as the primary DNS:</p>
        <div class="command">
          <pre><code># Router DNS settings:
# Primary DNS: 192.168.1.10 (your NextDNS server)
# Secondary DNS: 1.1.1.1 or 8.8.8.8 (as backup)</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>b) Device-Specific Configuration</h4>
        <p>Create device-specific profiles in your NextDNS dashboard:</p>
        <ol>
          <li>Log in to your NextDNS account</li>
          <li>Go to the "Settings" tab</li>
          <li>Create a new configuration for specific devices</li>
          <li>Set up different filtering rules for different device types</li>
        </ol>
        
        <h4>c) Forced SafeSearch</h4>
        <p>Enable Force SafeSearch for specific devices (like children's devices):</p>
        <div class="command">
          <pre><code># In your NextDNS config or dashboard:
# Enable: YouTube Restricted Mode, Google SafeSearch, Bing SafeSearch</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">7</span> Maintenance and Monitoring</h3>
        
        <h4>a) Regular Updates</h4>
        <p>Keep NextDNS and your system updated:</p>
        <div class="command">
          <pre><code># Update NextDNS
sudo nextdns upgrade

# Update system packages
sudo apt update && sudo apt upgrade -y  # Ubuntu
sudo dnf update -y  # RHEL/Rocky</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>b) Logging and Monitoring</h4>
        <p>Enable query logging for troubleshooting:</p>
        <div class="command">
          <pre><code># Edit NextDNS config
sudo nano /etc/nextdns.conf

# Enable logging
log-queries true

# Check logs
sudo tail -f /var/log/nextdns.log</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>c) Performance Monitoring</h4>
        <p>Monitor DNS resolution performance:</p>
        <div class="command">
          <pre><code># Test resolution speed
dig @127.0.0.1 example.com | grep "Query time"

# Check cache hits
sudo nextdns log | grep cache</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">8</span> Advanced Features</h3>
        
        <h4>a) Custom Block/Allow Lists</h4>
        <p>Add custom block/allow lists through the NextDNS dashboard:</p>
        <ol>
          <li>Log in to your NextDNS account</li>
          <li>Go to the "Privacy" tab</li>
          <li>Add custom blocklists or create your own allow/denylist</li>
        </ol>
        
        <h4>b) Analytics and Reporting</h4>
        <p>Enable analytics to monitor your network activity:</p>
        <div class="command">
          <pre><code># In NextDNS config or dashboard:
# Enable: Analytics, Logs, and Reports

# View statistics
sudo nextdns status</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>c) Split Horizon DNS</h4>
        <p>Configure local domain resolution alongside NextDNS:</p>
        <div class="command">
          <pre><code># Add local domains to /etc/hosts or local DNS
sudo nano /etc/hosts

# Example:
192.168.1.5   nas.local
192.168.1.6   printer.local</code></pre>
          <button class="command-copy">Copy</button>
        </div>
      </div>
      
      <div class="step-section">
        <h3><span class="step-number">9</span> Troubleshooting</h3>
        
        <h4>a) DNS Resolution Issues</h4>
        <p>If devices can't resolve DNS:</p>
        <div class="command">
          <pre><code># Check NextDNS status
sudo systemctl status nextdns

# Test DNS resolution
dig @127.0.0.1 example.com

# Check logs for errors
sudo journalctl -u nextdns -f</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>b) Performance Issues</h4>
        <p>If DNS resolution is slow:</p>
        <div class="command">
          <pre><code># Check cache performance
sudo nextdns log | grep cache

# Test with different upstream DNS
sudo nextdns config set-bootstrap-dns "1.1.1.1,8.8.8.8"

# Increase cache size
sudo nextdns config set-cache-size 50MB</code></pre>
          <button class="command-copy">Copy</button>
        </div>
        
        <h4>c) Common Error Solutions</h4>
        <table>
          <tr>
            <th>Error</th>
            <th>Solution</th>
          </tr>
          <tr>
            <td>NextDNS service won't start</td>
            <td>Check port 53 isn't used by other services: <code>sudo netstat -tulpn | grep :53</code></td>
          </tr>
          <tr>
            <td>DNS resolution slow</td>
            <td>Increase cache size or change upstream DNS providers</td>
          </tr>
          <tr>
            <td>Some sites not loading</td>
            <td>Check your blocklists and allowlist problematic domains</td>
          </tr>
          <tr>
            <td>Devices not using NextDNS</td>
            <td>Check router DNS settings and DHCP configuration</td>
          </tr>
        </table>
      </div>

      <div class="tutorial-nav">
        <a href="pihole-server.html"><i class="fas fa-arrow-left"></i> Previous: Pi-hole Server</a>
        <a href="cacti-monitoring.html">Next: Cacti Monitoring <i class="fas fa-arrow-right"></i></a>
      </div>
    </main>
  </div>

  <div class="success-message" id="copy-success">
    <i class="fas fa-check-circle"></i> Command copied to clipboard!
  </div>

  <footer>
    <p>&copy; 2023 LearnLinuxOnline. All rights reserved.</p>
  </footer>

  <script>
    // Tab functionality
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        // Add active class to clicked tab
        tab.classList.add('active');
        
        // Hide all tab content
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });
        
        // Show the selected tab content
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-content`).classList.add('active');
      });
    });

    // Copy to clipboard functionality
    document.querySelectorAll('.command-copy').forEach(button => {
      button.addEventListener('click', function() {
        const code = this.previousElementSibling.textContent;
        navigator.clipboard.writeText(code).then(() => {
          const successMsg = document.getElementById('copy-success');
          successMsg.style.display = 'block';
          setTimeout(() => {
            successMsg.style.display = 'none';
          }, 2000);
        });
      });
    });
  </script>
</body>
</html>